var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}const c="undefined"!=typeof window;let a=c?()=>window.performance.now():()=>Date.now(),u=c?t=>requestAnimationFrame(t):t;const f=new Set;function d(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&u(d)}function h(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function v(){return g(" ")}function y(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t){return""===t?null:+t}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function x(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const S=new Set;let z,E=0;function C(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-s.length;o&&(t.style.animation=s.join(", "),E-=o,E||u((()=>{E||(S.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),S.clear())})))}function O(t){z=t}function N(){const t=function(){if(!z)throw new Error("Function called outside component initialization");return z}();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=x(e,n);s.slice().forEach((e=>{e.call(t,o)}))}}}const A=[],M=[],P=[],D=[],I=Promise.resolve();let R=!1;function j(t){P.push(t)}function B(t){D.push(t)}let F=!1;const L=new Set;function T(){if(!F){F=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];O(e),J(e.$$)}for(O(null),A.length=0;M.length;)M.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];L.has(e)||(L.add(e),e())}P.length=0}while(A.length);for(;D.length;)D.pop()();R=!1,F=!1,L.clear()}}function J(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}let q;function H(t,e,n){t.dispatchEvent(x(`${e?"intro":"outro"}${n}`))}const U=new Set;let V;function Y(){V={r:0,c:[],p:V}}function G(){V.r||o(V.c),V=V.p}function K(t,e){t&&t.i&&(U.delete(t),t.i(e))}function Q(t,e,n,s){if(t&&t.o){if(U.has(t))return;U.add(t),V.c.push((()=>{U.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const W={duration:0};function X(n,s,l){let i,c=s(n,l),h=!0;const p=V;function m(){const{delay:s=0,duration:r=300,easing:l=e,tick:m=t,css:g}=c||W;g&&(i=function(t,e,n,s,o,r,l,i=0){const c=16.666/s;let a="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*r(t);a+=100*t+`%{${l(s,1-s)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,d=t.ownerDocument;S.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild($("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${s}ms linear ${o}ms 1 both`,E+=1,f}(n,1,0,r,s,l,g));const v=a()+s,y=v+r;j((()=>H(n,!1,"start"))),function(t){let e;0===f.size&&u(d),new Promise((n=>{f.add(e={c:t,f:n})}))}((t=>{if(h){if(t>=y)return m(0,1),H(n,!1,"end"),--p.r||o(p.c),!1;if(t>=v){const e=l((t-v)/r);m(1-e,e)}}return h}))}return p.r+=1,r(c)?(q||(q=Promise.resolve(),q.then((()=>{q=null}))),q).then((()=>{c=c(),m()})):m(),{end(t){t&&c.tick&&c.tick(1,0),h&&(i&&C(n,i),h=!1)}}}function Z(t,e){Q(t,1,1,(()=>{e.delete(t.key)}))}function tt(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function et(t){t&&t.c()}function nt(t,e,s){const{fragment:l,on_mount:i,on_destroy:c,after_update:a}=t.$$;l&&l.m(e,s),j((()=>{const e=i.map(n).filter(r);c?c.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(j)}function st(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(t,e){-1===t.$$.dirty[0]&&(A.push(t),R||(R=!0,I.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,r,l,i,c,a=[-1]){const u=z;O(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:a,skip_bound:!1};let h=!1;if(d.ctx=r?r(e,f,((t,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),h&&ot(e,t)),n})):[],d.update(),h=!0,o(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(m)}else d.fragment&&d.fragment.c();n.intro&&K(e.$$.fragment),nt(e,n.target,n.anchor),T()}O(u)}class lt{$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function it(e){let n,s,r,l,i,c,a,u,f,d,w,x,S,z,E,C;return{c(){n=$("form"),s=$("label"),r=g("Amount\n        "),l=$("input"),i=v(),c=$("label"),a=g("Rate\n        "),u=$("input"),f=v(),d=$("label"),w=g("Years\n        "),x=$("input"),S=v(),z=$("button"),z.textContent="Save search",b(l,"type","number"),b(s,"class","svelte-6kfaa6"),b(u,"type","number"),b(u,"min","0"),b(u,"step","0.05"),b(c,"class","svelte-6kfaa6"),b(x,"type","number"),b(x,"min","0"),b(d,"class","svelte-6kfaa6"),b(z,"type","submit"),b(z,"class","svelte-6kfaa6"),b(n,"class","svelte-6kfaa6")},m(t,o){var m;p(t,n,o),h(n,s),h(s,r),h(s,l),k(l,e[0].amount),h(n,i),h(n,c),h(c,a),h(c,u),k(u,e[0].rate),h(n,f),h(n,d),h(d,w),h(d,x),k(x,e[1]),h(n,S),h(n,z),E||(C=[y(l,"input",e[3]),y(u,"input",e[4]),y(x,"input",e[5]),y(n,"submit",(m=e[2],function(t){return t.preventDefault(),m.call(this,t)}))],E=!0)},p(t,[e]){1&e&&_(l.value)!==t[0].amount&&k(l,t[0].amount),1&e&&_(u.value)!==t[0].rate&&k(u,t[0].rate),2&e&&_(x.value)!==t[1]&&k(x,t[1])},i:t,o:t,d(t){t&&m(n),E=!1,o(C)}}}function ct(t,e,n){let{loan:s}=e,o=s.period/12;const r=N();return t.$$set=t=>{"loan"in t&&n(0,s=t.loan)},t.$$.update=()=>{2&t.$$.dirty&&n(0,s.period=12*o,s)},[s,o,function(){r("save")},function(){s.amount=_(this.value),n(0,s),n(1,o)},function(){s.rate=_(this.value),n(0,s),n(1,o)},function(){o=_(this.value),n(1,o)}]}class at extends lt{constructor(t){super(),rt(this,t,ct,it,l,{loan:0})}}class ut{constructor(t,e,n){this.amount=t,this.rate=e,this.period=n}}const ft=[];function dt(e,n=t){let s;const o=[];function r(t){if(l(e,t)&&(e=t,s)){const t=!ft.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),ft.push(n,e)}if(t){for(let t=0;t<ft.length;t+=2)ft[t][0](ft[t+1]);ft.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(l,i=t){const c=[l,i];return o.push(c),1===o.length&&(s=n(r)||t),l(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}const ht=new class{constructor(t){this.key="bookkeeper-calculations",this.storage=t,this.retrievedValue=JSON.parse(this.storage.getItem(this.key)||"[]"),this.store=dt(this.retrievedValue),this.subscribe=this.store.subscribe}add(t){this.store.update((e=>{let n=[t,...e];return this.storage.setItem(this.key,JSON.stringify(n)),n}))}clear(){this.storage.setItem(this.key,JSON.stringify([])),this.store.set([])}}(localStorage);function pt(t,e=null){if(null==t||isNaN(t))return pt(0);let n={style:"currency",currency:"USD"};return null!=e&&(n.maximumFractionDigits=e,n.minimumFractionDigits=e),t.toLocaleString("en-US",n)}function mt(e){let n,s,o,r,l,i,c,a,u,f,d,y,_,k,x,S,z,E,C,O,N,A,M,P,D,I,R,j,B=pt(e[0].amount)+"",F=e[0].rate+"",L=e[0].period+"",T=pt(e[0].monthlyPayment,0)+"",J=pt(e[0].totalInterest)+"";return{c(){n=$("div"),s=$("div"),o=$("div"),r=g("Borrow "),l=$("strong"),i=g(B),c=g(" at"),a=v(),u=$("div"),f=$("span"),d=g(F),y=g("%"),_=g("\n            for "),k=$("strong"),x=g(L),S=g(" months"),z=v(),E=$("div"),C=$("div"),O=$("span"),N=g(T),A=g(" per month"),M=v(),P=$("div"),D=g("("),I=$("strong"),R=g(J),j=g(" total interest)"),b(l,"class","svelte-1vr95za"),b(o,"class","svelte-1vr95za"),b(f,"class","main svelte-1vr95za"),b(k,"class","svelte-1vr95za"),b(u,"class","svelte-1vr95za"),b(s,"class","data svelte-1vr95za"),b(O,"class","main svelte-1vr95za"),b(C,"class","svelte-1vr95za"),b(I,"class","svelte-1vr95za"),b(P,"class","svelte-1vr95za"),b(E,"class","data highlight svelte-1vr95za"),b(n,"class","card svelte-1vr95za")},m(t,e){p(t,n,e),h(n,s),h(s,o),h(o,r),h(o,l),h(l,i),h(o,c),h(s,a),h(s,u),h(u,f),h(f,d),h(f,y),h(u,_),h(u,k),h(k,x),h(u,S),h(n,z),h(n,E),h(E,C),h(C,O),h(O,N),h(C,A),h(E,M),h(E,P),h(P,D),h(P,I),h(I,R),h(P,j)},p(t,[e]){1&e&&B!==(B=pt(t[0].amount)+"")&&w(i,B),1&e&&F!==(F=t[0].rate+"")&&w(d,F),1&e&&L!==(L=t[0].period+"")&&w(x,L),1&e&&T!==(T=pt(t[0].monthlyPayment,0)+"")&&w(N,T),1&e&&J!==(J=pt(t[0].totalInterest)+"")&&w(R,J)},i:t,o:t,d(t){t&&m(n)}}}function $t(t,e,n){let{calculation:s}=e;return t.$$set=t=>{"calculation"in t&&n(0,s=t.calculation)},[s]}class gt extends lt{constructor(t){super(),rt(this,t,$t,mt,l,{calculation:0})}}function vt(t,e,n){const s=t.slice();return s[2]=e[n],s}function yt(e){let n,s,o;return{c(){n=$("button"),n.textContent="Clear history",b(n,"type","button"),b(n,"class","svelte-11cvt2a")},m(t,r){p(t,n,r),s||(o=y(n,"click",e[1]),s=!0)},p:t,d(t){t&&m(n),s=!1,o()}}}function bt(t){let e,n,s,o;return n=new gt({props:{calculation:t[2]}}),{c(){e=$("li"),et(n.$$.fragment),s=v()},m(t,r){p(t,e,r),nt(n,e,null),h(e,s),o=!0},p(t,e){const s={};1&e&&(s.calculation=t[2]),n.$set(s)},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){t&&m(e),st(n)}}}function _t(t){let e,n,s,o,r,l=t[0].length>0&&yt(t),i=t[0],c=[];for(let e=0;e<i.length;e+=1)c[e]=bt(vt(t,i,e));const a=t=>Q(c[t],1,1,(()=>{c[t]=null}));return{c(){e=$("h2"),n=g("History\n\n    "),l&&l.c(),s=v(),o=$("ul");for(let t=0;t<c.length;t+=1)c[t].c();b(e,"class","svelte-11cvt2a")},m(t,i){p(t,e,i),h(e,n),l&&l.m(e,null),p(t,s,i),p(t,o,i);for(let t=0;t<c.length;t+=1)c[t].m(o,null);r=!0},p(t,[n]){if(t[0].length>0?l?l.p(t,n):(l=yt(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),1&n){let e;for(i=t[0],e=0;e<i.length;e+=1){const s=vt(t,i,e);c[e]?(c[e].p(s,n),K(c[e],1)):(c[e]=bt(s),c[e].c(),K(c[e],1),c[e].m(o,null))}for(Y(),e=i.length;e<c.length;e+=1)a(e);G()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)K(c[t]);r=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Q(c[t]);r=!1},d(t){t&&m(e),l&&l.d(),t&&m(s),t&&m(o),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(c,t)}}}function wt(t,e,n){let s;var o,r;return o=ht,r=t=>n(0,s=t),t.$$.on_destroy.push(i(o,r)),[s,function(){ht.clear()}]}class kt extends lt{constructor(t){super(),rt(this,t,wt,_t,l,{})}}class xt{constructor(t,e,n,s,o,r){this.amount=t,this.rate=e,this.period=n,this.monthlyPayment=s,this.totalPayment=o,this.totalInterest=r}}function St(t,{delay:n=0,duration:s=400,easing:o=e}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:o,css:t=>"opacity: "+t*r}}function zt(t,e,n){const s=t.slice();return s[2]=e[n],s}function Et(t,e){let n,s,o,r,l,i=e[2].message+"";return{key:t,first:null,c(){n=$("div"),s=g(i),o=v(),b(n,"class","alert svelte-164u3en"),this.first=n},m(t,e){p(t,n,e),h(n,s),h(n,o),l=!0},p(t,n){e=t,(!l||2&n)&&i!==(i=e[2].message+"")&&w(s,i)},i(t){l||(r&&r.end(1),l=!0)},o(t){r=X(n,St,{}),l=!1},d(t){t&&m(n),t&&r&&r.end()}}}function Ct(t){let e,n,s=[],o=new Map,r=t[1];const l=t=>t[2].id;for(let e=0;e<r.length;e+=1){let n=zt(t,r,e),i=l(n);o.set(i,s[e]=Et(i,n))}return{c(){e=$("div");for(let t=0;t<s.length;t+=1)s[t].c();b(e,"class","alerts svelte-164u3en")},m(t,o){p(t,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);n=!0},p(t,[n]){2&n&&(r=t[1],Y(),s=function(t,e,n,s,o,r,l,i,c,a,u,f){let d=t.length,h=r.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const $=[],g=new Map,v=new Map;for(p=h;p--;){const t=f(o,r,p),i=n(t);let c=l.get(i);c?s&&c.p(t,e):(c=a(i,t),c.c()),g.set(i,$[p]=c),i in m&&v.set(i,Math.abs(p-m[i]))}const y=new Set,b=new Set;function _(t){K(t,1),t.m(i,u),l.set(t.key,t),u=t.first,h--}for(;d&&h;){const e=$[h-1],n=t[d-1],s=e.key,o=n.key;e===n?(u=e.first,d--,h--):g.has(o)?!l.has(s)||y.has(s)?_(e):b.has(o)?d--:v.get(s)>v.get(o)?(b.add(s),_(e)):(y.add(o),d--):(c(n,l),d--)}for(;d--;){const e=t[d];g.has(e.key)||c(e,l)}for(;h;)_($[h-1]);return $}(s,n,l,1,t,r,o,e,Z,Et,null,zt),G())},i(t){if(!n){for(let t=0;t<r.length;t+=1)K(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)Q(s[t]);n=!1},d(t){t&&m(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Ot(e,n,s){let o,r=t,l=()=>(r(),r=i(c,(t=>s(1,o=t))),c);e.$$.on_destroy.push((()=>r()));let{alerts:c}=n;return l(),e.$$set=t=>{"alerts"in t&&l(s(0,c=t.alerts))},[c,o]}class Nt extends lt{constructor(t){super(),rt(this,t,Ot,Ct,l,{alerts:0})}}class At{constructor(){this.store=dt([]),this.id=0,this.subscribe=this.store.subscribe}add(t){let e=new Mt(this.id++,t);this.store.update((t=>[...t,e])),setTimeout((()=>this.store.update((t=>t.filter((t=>t!==e))))),2e3)}}class Mt{constructor(t,e){this.id=t,this.message=e}}function Pt(t){let e,n,s,o,r,l,i,c,a,u,f,d,g,y,_;function w(e){t[4].call(null,e)}let k={};function x(e){t[5].call(null,e)}void 0!==t[0]&&(k.loan=t[0]),r=new at({props:k}),M.push((()=>tt(r,"loan",w))),r.$on("save",t[3]);let S={};return void 0!==t[1]&&(S.calculation=t[1]),c=new gt({props:S}),M.push((()=>tt(c,"calculation",x))),d=new kt({}),y=new Nt({props:{alerts:t[2]}}),{c(){e=$("header"),e.innerHTML="<h1>Bookkeeper</h1>",n=v(),s=$("main"),o=$("section"),et(r.$$.fragment),i=v(),et(c.$$.fragment),u=v(),f=$("section"),et(d.$$.fragment),g=v(),et(y.$$.fragment),b(e,"class","svelte-1idaa7x"),b(o,"class","svelte-1idaa7x"),b(f,"class","svelte-1idaa7x"),b(s,"class","svelte-1idaa7x")},m(t,l){p(t,e,l),p(t,n,l),p(t,s,l),h(s,o),nt(r,o,null),h(o,i),nt(c,o,null),h(s,u),h(s,f),nt(d,f,null),h(s,g),nt(y,s,null),_=!0},p(t,[e]){const n={};!l&&1&e&&(l=!0,n.loan=t[0],B((()=>l=!1))),r.$set(n);const s={};!a&&2&e&&(a=!0,s.calculation=t[1],B((()=>a=!1))),c.$set(s)},i(t){_||(K(r.$$.fragment,t),K(c.$$.fragment,t),K(d.$$.fragment,t),K(y.$$.fragment,t),_=!0)},o(t){Q(r.$$.fragment,t),Q(c.$$.fragment,t),Q(d.$$.fragment,t),Q(y.$$.fragment,t),_=!1},d(t){t&&m(e),t&&m(n),t&&m(s),st(r),st(c),st(d),st(y)}}}function Dt(t,e,n){let s,o=new ut(59e3,1.9,48),r=new At;return t.$$.update=()=>{1&t.$$.dirty&&n(1,s=function(t){const e=t.rate/100/12,n=e*t.amount/(1-Math.pow(1+e,-t.period)),s=n*t.period,o=s-t.amount;return new xt(t.amount,t.rate,t.period,n,s,o)}(o))},[o,s,r,function(){ht.add(s),r.add("Saved")},function(t){o=t,n(0,o)},function(t){s=t,n(1,s),n(0,o)}]}return new class extends lt{constructor(t){super(),rt(this,t,Dt,Pt,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
